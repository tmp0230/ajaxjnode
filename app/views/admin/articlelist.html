<h2 class="sub-header">文章列表 | (<%- articles.length %>)</h2>
<div class="table-responsive">
<table class="table table-striped">
<thead>
<tr>
<th>#</th>
<th>名称</th>
<th>中文</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<% articles.forEach(function(article){%>
<tr>
<td><%- article.created %></td>
<td><%- article.title %></td>
<td><%- article.url %></td>
<td>
<a href="/admin/editcategory?id=">EDIT</a>|
<a href="/admin/category/delete">DEL</a>
</td>
</tr>
<% }) %>
</tbody>
</table>
<ul class='pagination'>
		<% 
		var base = "http://localhost:3000/admin/article/list";
		var base_url = base + (base.indexOf('?') < 0 ? '?' : '&') + 'page=';
		 %>
		<% if (current_page == 1) { %>
			<li class='disabled'><a>«</a></li>
		<% } else { %>
			<li><a href="<%= base_url %>1">«</a></li>
		<% } %>

		<%
			var page_start = current_page - 2 > 0 ? current_page - 2 : 1;
			var page_end = page_start + 10 >= pages ? pages : page_start + 10;
		%> 

		<% if (page_start > 1) { %>
			<li><a>...</a></li>
		<% } %>

		<% for(var i = page_start; i <= page_end; i++) { %>
			<% if (i === current_page) { %>
				<li class='disabled'><a><%= i %></a></li>
			<% } else { %>
				<li><a href='<%= base_url + i %>'><%= i %></a></li>
			<% } %>
		<% } %>

		<% if (page_end < pages ) { %>
			<li><a>...</a></li>
		<% } %>

		<% if (current_page == pages) { %>
			<li class='disabled'><a>»</a></li>
		<% } else { %>
			<li><a href='<%= base_url + pages %>'>»</a></li>
		<% } %>
</ul>

</div>

